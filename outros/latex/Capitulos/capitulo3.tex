% CAPÍTULO 3
\chapter{Proposta}
Este capítulo apresenta a proposta de desenvolvimento de um sistema \textit{web}, capaz de auxiliar na criação e divulgação de conteúdos que interage com o usuário que o acessa. Para facilitar a compreensão utilizaremos o nome de \textbf{aplicativo} para definir este tipo de conteúdo. 

\section{Tecnologias e Ferramentas}

\subsection{PHP}
O sistema \textit{web} será desenvolvido utilizando a linguagem PHP, por ser uma linguagem rica em recursos e amplamente consolidada no desenvolvimento \textit{web}.

\subsection{Laravel}
Em conjunto com o PHP será utilizado o Laravel, um \textit{framework} PHP voltado para o desenvolvimento web. O \textit{framework} que utiliza a arquitetura \textit{Model-View-Controller} e o seu principal atributo é ajudar a desenvolver com alto desempenho de forma rápida. O Laravel incentiva o uso de boas práticas de programação e utiliza as PSR (PHP \textit{Standards Recommendations}) como guia para estilo de escrita do código. Para a criação da camada \textit{View}, o Laravel utiliza uma \textit{Engine} de \textit{template} chamada Blade, que traz uma gama de ferramentas que ajudam a criar interfaces de forma rápida e evitar a duplicação de código. Para se comunicar com um Banco de Dados o Laravel utiliza uma implementação simples do \textit{ActiveRecord} chamada de Eloquent ORM (\textit{Object Relational Mapping}), que é uma ferramenta que traz várias funcionalidades para facilitar a inserção, atualização, busca e exclusão de registros.

\subsection{MySQL}
Para armazenamento de dados será utilizado o SGBD MySQ. Atualmente o MySQL é um dos bancos de dados mais populares do mundo. Outro ponto importante para a escolha deste SGBD é sua fácil integração com o PHP, sendo a linguagem principal do projeto e a que irá interagir com o banco de dados.

\subsection{Redis}
O Redis é uma ferramenta que auxilia o armazenamento de estrutura de dados no formato de chave-valor na memória. Como seus dados sempre ficarem na memoria o seu acesso é extremamente rápido, o que faz com que o Redis seja uma ferramenta ideal para trabalhar com \textit{cache}. Portanto para garantir a escalabilidade do sistema, evitando que o MySQL se torne um gargalo na aplicação, será utilizado o Redis como \textit{cache} do banco de dados.

\subsection{Front-end}
As tecnologias de \textit{Front-end} são as serão usados "do lado do cliente", ou seja as que são renderizada por um navegador web. Para o desenvolvimento da proposta será utilizado HTML5, CSS3, JavaScript, para que seja possível desenvolver um sistema que funcione em diversos dispositivos através de um navegador web.

\subsection{Amazon Web Services}
A computação em nuvem é a entrega sob demanda de poder computacional, armazenamento, banco de dados, aplicações e outros recursos. Como todos serviços são sob demanda, a definição de preço será conforme o uso. As principais vantagens do seu uso é:
\begin{itemize}
	\item Os custos e capacidade variam conforme o uso, com isso é possível aumentar ou diminuir sempre que houver demanda;
	\item Usar configurações de infra-estrutura pré-definidas, evitando retrabalho;
	\item Alta garantia de escalabilidade e disponibilidade.
\end{itemize} 
Para o desenvolvimento desta proposta será utilizado a nuvem da AWS (Amazon Web Services).

\section{Arquitetura do Sistema}
Neste capitulo será descrito o funcionamento dos principais componentes que formam a arquitetura do sistema. Toda arquitetura foi desenvolvida pensando em dois tópicos principais, redução de custos e escalabilidade. Para isso foi usado diversas tecnologias citadas na sessão anterior. 

O modelo da arquitetura é o de cliente-servidor, no qual o cliente através da internet envia uma requisição para o servidor, o mesmo recebe, processa a solicitação e responde, como mostra a Figura \ref{clientservidor}.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.6\textwidth]{./Figuras/client-server.png} % <- formatos PNG, JPG e PDF
	\caption[Arquitetura cliente-servidor]{Exemplo do funcionamento da arquitetura cliente-servidor}
	\fonte{Autoria própria}
	\label{clientservidor}
\end{figure}

Nesse modelo o servidor é a infra-estrutura que hospeda o sistema. Para que o sistema proposto funcione, será necessário que o servidor contenha instalado e configurado o Apache 2.4 e o PHP 7. Para garantir a escalabilidade foi incluído um balanceador de carga na frente do servidor, sua função é destinar as requisições para os servidores que estiverem com mais recursos disponíveis no momento. Caso todos os servidores estejam quase sem recursos, o balanceador de carga irá incluir um novo servidor, caso a média dos recursos de todas instancias ativas estiverem baixas, o balanceador irá remover servidores. Portanto o balanceador de carga irá gerenciar a escalabilidade da aplicação, aumentando ou diminuindo os recursos. A AWS fornece o serviço de balanceamento de carga, conhecido como ELB (\textit{Elastic Load Balancing}), no qual será utilizado para balancear a aplicação.

Já o para a criação do servidor iremos utilizar o serviço da AWS conhecido como EC2 (\textit{Elastic Compute Cloud}). Esse serviço disponibiliza de forma rápida um servidor com o sistema operacional escolhido, cada servidor criado com o EC2 é conhecido como instância. Um das vantagens da utilização do EC2 é sua fácil integração com o ELB. Além disso é possível configurar um EC2 e ao integra-lo com o ELB o mesmo irá replica-lo quando necessário uma instância idêntica a pré-definida inicialmente, como mostra a Figura \ref{elb}.

\begin{figure}[!htb]
	\centering
	\includegraphics[width=0.4\textwidth]{./Figuras/elb.png} % <- formatos PNG, JPG e PDF
	\caption[Exemplo do funcionamento do ELB]{Exemplo do funcionamento do ELB}
	\fonte{Autoria própria}
	\label{elb}
\end{figure}